webpackJsonp([0],{106:function(s,e,t){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":s.type},on:{"on-select":s.tabSelect}},[t("MenuItem",{attrs:{name:"user"}},[s._v("\n         个人主页\n      ")]),s._v(" "),t("MenuItem",{attrs:{name:"userAsk"}},[s._v("\n        "+s._s(s.usertype)+"的提问\n      ")]),s._v(" "),t("MenuItem",{attrs:{name:"userAns"}},[s._v("\n        "+s._s(s.usertype)+"的回答\n      ")]),s._v(" "),t("MenuItem",{attrs:{name:"userMsg"}},[s._v("\n        "+s._s(s.usertype)+"的留言\n      ")])],1),s._v(" "),t("div",{staticClass:"clear"},[s.userAsk&&"userAsk"===s.type?t("div",{staticClass:"ask"},[s._l(s.userAsk.list,function(s){return t("queList",{key:s.question_id,attrs:{question:s}})}),s._v(" "),s.userAsk.list&&0!==s.userAsk.list.length?t("div",{staticClass:"pagediv"},[t("Page",{staticClass:"page",attrs:{current:s.currentPage,total:10*s.userAsk.maxPage,simple:""},on:{"on-change":s.pageChange}})],1):s._e()],2):s._e(),s._v(" "),s.userAns&&"userAns"===s.type?t("div",{staticClass:"ans"},[s._l(s.userAns.list,function(s){return t("queList",{key:s.question_id,attrs:{question:s}})}),s._v(" "),s.userAns.list&&0!==s.userAns.list.length?t("div",{staticClass:"pagediv"},[t("Page",{staticClass:"page",attrs:{current:s.currentPage,total:10*s.userAns.maxPage,simple:""},on:{"on-change":s.pageChange}})],1):s._e()],2):s._e(),s._v(" "),s.userMsg&&"userMsg"===s.type?t("div",{staticClass:"msg"},[t("ul",{staticClass:"msgList"},[s._l(s.userMsg.list,function(e){return t("li",[t("p",[s._v(s._s(e.msg))]),s._v(" "),t("div",[t("router-link",{staticClass:"msgUser",attrs:{to:"/user/user/"+e.id}},[s._v(s._s(e.name))]),t("span",{staticClass:"msgTime"},[s._v(s._s(s.time(e.date))+"留言")])],1)])}),s._v(" "),s.userMsg.list&&0!==s.userMsg.list.length?t("div",{staticClass:"pagediv"},[t("Page",{staticClass:"page",attrs:{current:s.currentPage,total:10*s.userMsg.maxPage,simple:""},on:{"on-change":s.pageChange}})],1):s._e()],2),s._v(" "),s.token?t("div",{staticClass:"postList"},[t("h2",[s._v("提交留言")]),s._v(" "),t("Input",{staticClass:"msgInput",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入留言"},model:{value:s.msg,callback:function(e){s.msg=e},expression:"msg"}}),s._v(" "),t("Button",{staticClass:"submit",attrs:{type:"primary",loading:s.loading},on:{click:s.submit}},[s.loading?t("span",[s._v("Loading...")]):t("span",[s._v("提交")])])],1):s._e()]):s._e(),s._v(" "),s.user&&"user"===s.type?t("div",{staticClass:"user"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.user.image,expression:"user.image"}],staticClass:"avatar",attrs:{src:"",alt:"avatar"}}),s._v(" "),t("div",{staticClass:"profil"},[t("h2",[s._v(s._s(s.user.username))]),s._v(" "),t("p",[s._v("昵称："+s._s(s.user.nickname))]),s._v(" "),t("p",[s._v("性别："+s._s(s.user.sex))]),s._v(" "),t("p",[s._v("级别："+s._s(s.user.level))]),s._v(" "),t("p",[s._v("知识级别："+s._s(s.user.nlglevel))]),s._v(" "),t("p",[s._v("提问数："+s._s(s.user.askNum))]),s._v(" "),t("p",[s._v("回答数："+s._s(s.user.answerNum))]),s._v(" "),t("p",[s._v("回答被采纳率："+s._s(s.user.acceptedRate))]),s._v(" "),t("p",[s._v("知识人得分："+s._s(s.user.score))]),s._v(" "),s.user.skilled?t("p",[s._v("擅长领域:"+s._s(s.user.skilled))]):s._e()])]):s._e()])],1)},staticRenderFns:[]},s.exports.render._withStripped=!0},29:function(s,e,t){t(95);var n=t(11)(t(94),t(106),"data-v-1c38278e",null);n.options.__file="C:\\Users\\Lee\\Desktop\\srp\\srp2017\\question-and-answer\\src\\views\\user.vue",n.esModule&&Object.keys(n.esModule).some(function(s){return"default"!==s&&"__esModule"!==s})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] user.vue: functional components are not supported with templates, they should use render functions."),s.exports=n.exports},80:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{fin:["未解决","已解决"]}},props:["question"],computed:{time:function(){if(this.question.post_time){var s=this.question.post_time.split(" "),e=s[0].split("-");return e[0]+"年"+e[1]+"月"+e[2]+"日"}},isUnFin:function(){return"0"===this.question.finished}}}},81:function(s,e){},82:function(s,e,t){t(81);var n=t(11)(t(80),t(83),"data-v-3b0a11d9",null);n.options.__file="C:\\Users\\Lee\\Desktop\\srp\\srp2017\\question-and-answer\\src\\views\\question_list.vue",n.esModule&&Object.keys(n.esModule).some(function(s){return"default"!==s&&"__esModule"!==s})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] question_list.vue: functional components are not supported with templates, they should use render functions."),s.exports=n.exports},83:function(s,e,t){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"question"},[t("div",{staticClass:"finish",class:{unfinish:s.isUnFin}},[s._v(s._s(s.fin[s.question.finished]))]),s._v(" "),t("div",{staticClass:"main"},[t("div",[t("router-link",{staticClass:"title",attrs:{to:"/question/"+s.question.question_id}},[s._v(s._s(s.question.question))]),t("router-link",{staticClass:"section",attrs:{to:"/askClass/section/"+s.question.section}},[s._v(s._s(s.question.section))])],1),s._v(" "),t("div",[s.question.poster?t("router-link",{staticClass:"user",attrs:{to:"/user/user/"+s.question.poster_id}},[s._v(s._s(s.question.poster))]):s._e(),t("span",{staticClass:"time"},[s._v(s._s(s.time))]),void 0!==s.question.daan_num?t("router-link",{staticClass:"answer",attrs:{to:"/question/"+s.question.question_id+"/#answer"}},[s._v(s._s(s.question.daan_num)+"回答")]):s._e(),s.question.score?t("span",{staticClass:"score"},[s._v(s._s(s.question.score)+"分")]):s._e()],1)])])},staticRenderFns:[]},s.exports.render._withStripped=!0},94:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(1),r=t(82),i=t.n(r);e.default={data:function(){return{currentPage:1,type:"",msg:"",loading:!1}},computed:{user_id:function(){return this.$store.state.user.user_id},token:function(){return this.$store.state.user.token},user:function(){return this.$store.state.data.user},userMsg:function(){return this.$store.state.data.userMsg},userAsk:function(){return this.$store.state.data.userQue},userAns:function(){return this.$store.state.data.userAns},usertype:function(){return this.$route.params.id&&this.$route.params.id!==this.user_id?"他":"我"}},watch:{$route:function(s,e){this.getStatus(s.params.type,1)}},components:{queList:i.a},methods:{time:function(s){if(s){var e=s.split(" "),t=e[0].split("-");return t[0]+"年"+t[1]+"月"+t[2]+"日"}},submit:function(){var s=this;if(!this.msg)return this.$Message.info({content:"请输入留言",duration:3,closable:!0});this.loading=!0;var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.$store.dispatch("postAction",{url:"/ask/postMsg",data:{msg:this.msg,user_id:this.$route.params.id||this.user_id,date:t}}).then(function(e){void 0===e&&(s.$Message.success({content:"提交成功",duration:2,closable:!0}),s.msg="",s.getStatus("userMsg",s.currentPage))}).finally(function(){return s.loading=!1})},tabSelect:function(s){this.$route.params.id?this.$router.push("/user/"+s+"/"+this.$route.params.id):this.$router.push("/user/"+s)},pageChange:function(s){this.getStatus(this.$route.params.type,s)},getStatus:function(s,e){var t=this;this.type=s;var r={},i="getUser";switch(this.$route.params.id&&(r.user_id=parseInt(this.$route.params.id)),s){case"userAsk":r.action="list_question",r.page=e,i="getUserQue";break;case"userAns":r.action="list_answer",r.page=e,i="getUserAns";break;case"userMsg":r.action="list_msg",r.page=e,i="getUserMsg"}this.$store.commit(n.t,s),this.$store.dispatch(i,{url:"/ask/user",vm:this,params:r}).then(function(s){void 0===s&&(t.currentPage=e)})}},beforeRouteEnter:function(s,e,t){t(function(e){e.getStatus(s.params.type,1)})}}},95:function(s,e){}});