webpackJsonp([11],[,function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"h",function(){return i}),n.d(t,"i",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return a}),n.d(t,"l",function(){return u}),n.d(t,"m",function(){return l}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return d}),n.d(t,"p",function(){return h}),n.d(t,"q",function(){return f}),n.d(t,"t",function(){return p}),n.d(t,"r",function(){return v}),n.d(t,"s",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return _}),n.d(t,"f",function(){return k}),n.d(t,"e",function(){return w});var r="GET_MAIN",i="GET_ASK_RANK",o="GET_ASK_CLASS",s="GET_QUESTION",a="GET_ASK_STAR",u="GET_EXPERTS",l="GET_SEARCH",c="GET_USER",d="GET_USER_QUE",h="GET_USER_ANS",f="GET_USER_MSG",p="CLEAR_STATE",v="GET_ASK_PART",g="GET_ASK CHAPTER",m="LOGIN",y="LOGOUT",b="USERNAME",_="SHOWLOGIN",k="REFRESH_TOKEN",w="USERID"},,function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(52),s=n(55);r.default.use(i.a);t.a=new i.a.Store({modules:{data:o.a,user:s.a},strict:!1})},,,,,,,,function(e,t){e.exports=function(e,t,n,r){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var u=Object.create(a.computed||null);Object.keys(r).forEach(function(e){var t=r[e];u[e]=function(){return t}}),a.computed=u}return{esModule:i,exports:o,options:a}}},,,,,,function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),s=n.n(o),a=n(3),u=n(2),l=n(1),c=i.a.create({baseURL:"http://180.76.154.78/plesk-site-preview/www.srp2017.com/192.168.0.6",timeout:5e3,transformRequest:[function(e){return s.a.stringify(e)}]});c.interceptors.request.use(function(e){return a.a.state.user.token&&(e.params?e.params.token=a.a.state.user.token:e.params={token:a.a.state.user.token}),e},function(e){return Promise.reject(e)}),c.interceptors.response.use(function(e){var t=e.data.status;return 100!==t&&101!==t&&102!==t&&103!==t||(a.a.commit(l.b),a.a.commit(l.a,!0)),0!==t&&u.default.prototype.$Message.error({duration:3,content:e.data.msg,closable:!0}),e},function(e){return u.default.prototype.$Message.error({duration:3,content:"Network Error",closable:!0}),Promise.reject(e)}),c.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t.a=c},,,,function(e,t,n){"use strict";var r={};r.title=function(e){e=e?e+" - 物理知识问答":"物理知识问答",window.document.title=e},t.a=r},function(e,t,n){"use strict";var r=[{path:"/",redirect:"/main"},{path:"/main",components:{content:function(e){return n.e(4).then(function(){var t=[n(72)];e.apply(null,t)}.bind(this)).catch(n.oe)},sider:function(e){return n.e(1).then(function(){var t=[n(28)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"主页"}},{path:"/postQuestion",components:{full:function(e){return n.e(9).then(function(){var t=[n(73)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"提问",requireAuth:!0}},{path:"/askClass",components:{full:function(e){return n.e(10).then(function(){var t=[n(68)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"分类"}},{path:"/askRank",components:{content:function(e){return n.e(6).then(function(){var t=[n(69)];e.apply(null,t)}.bind(this)).catch(n.oe)},sider:function(e){return n.e(1).then(function(){var t=[n(28)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"问答"}},{path:"/search",components:{full:function(e){return n.e(3).then(function(){var t=[n(75)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"搜索"}},{path:"/askClass/:type/:class",components:{full:function(e){return n.e(5).then(function(){var t=[n(71)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"分类"}},{path:"/question/:id",components:{content:function(e){return n.e(7).then(function(){var t=[n(74)];e.apply(null,t)}.bind(this)).catch(n.oe)},sider:function(e){return n.e(2).then(function(){var t=[n(27)];e.apply(null,t)}.bind(this)).catch(n.oe)}}},{path:"/askStar",components:{content:function(e){return n.e(8).then(function(){var t=[n(70)];e.apply(null,t)}.bind(this)).catch(n.oe)},sider:function(e){return n.e(2).then(function(){var t=[n(27)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"排行榜"}},{path:"/user/:type",components:{full:function(e){return n.e(0).then(function(){var t=[n(29)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"我的主页",requireAuth:!0}},{path:"/user/:type/:id",components:{full:function(e){return n.e(0).then(function(){var t=[n(29)];e.apply(null,t)}.bind(this)).catch(n.oe)}},meta:{title:"个人主页",requireAuth:!0}}];t.a=r},function(e,t){},function(e,t){},function(e,t,n){/*!
 * Vue-Lazyload.js v1.2.1
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){if(e.length){var n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}}function t(e,t){if(!e||!t)return e||{};if(e instanceof Object)for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n=!1,r=0,i=e.length;r<i;r++)if(t(e[r])){n=!0;break}return n}function r(e,t){if("IMG"===e.tagName&&e.getAttribute("data-srcset")){var n=e.getAttribute("data-srcset"),r=[],i=e.parentNode,o=i.offsetWidth*t,s=void 0,a=void 0,u=void 0;n=n.trim().split(","),n.map(function(e){e=e.trim(),s=e.lastIndexOf(" "),-1===s?(a=e,u=999998):(a=e.substr(0,s),u=parseInt(e.substr(s+1,e.length-s-2),10)),r.push([u,a])}),r.sort(function(e,t){if(e[0]<t[0])return-1;if(e[0]>t[0])return 1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0});for(var l="",c=void 0,d=r.length,h=0;h<d;h++)if(c=r[h],c[0]>=o){l=c[1];break}return l}}function i(e,t){for(var n=void 0,r=0,i=e.length;r<i;r++)if(t(e[r])){n=e[r];break}return n}function o(){if(!p)return!1;var e=!0,t=document;try{var n=t.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",t.body.appendChild(n),e=!n.offsetWidth,t.body.removeChild(n)}catch(t){e=!1}return e}function s(e,t){var n=null,r=0;return function(){if(!n){var i=Date.now()-r,o=this,s=arguments,a=function(){r=Date.now(),n=!1,e.apply(o,s)};i>=t?a():n=setTimeout(a,t)}}}function a(e){return null!==e&&"object"===(void 0===e?"undefined":d(e))}function u(e){if(!(e instanceof Object))return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function l(e){for(var t=e.length,n=[],r=0;r<t;r++)n.push(e[r]);return n}function c(){}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="undefined"!=typeof window,v=p&&"IntersectionObserver"in window,g={event:"event",observer:"observer"},m=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if(p)return"function"==typeof window.CustomEvent?window.CustomEvent:(e.prototype=window.Event.prototype,e)}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p?window.devicePixelRatio||e:e},b=function(){if(p){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}}(),_={on:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b?e.addEventListener(t,n,{capture:r,passive:!0}):e.addEventListener(t,n,r)},off:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}},k=function(e,t,n){var r=new Image;r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src})},r.onerror=function(e){n(e)}},w=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},L=function(e){return w(e,"overflow")+w(e,"overflow-y")+w(e,"overflow-x")},E=function(e){if(p){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(L(t)))return t;t=t.parentNode}return window}},A={},T=function(){function e(t){var n=t.el,r=t.src,i=t.error,o=t.loading,s=t.bindType,a=t.$parent,u=t.options,l=t.elRenderer;h(this,e),this.el=n,this.src=r,this.error=i,this.loading=o,this.bindType=s,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=u,this.rect=null,this.$parent=a,this.elRenderer=l,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return f(e,[{key:"initState",value:function(){this.el.dataset.src=this.src,this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(e){this.performanceData[e]=Date.now()}},{key:"update",value:function(e){var t=e.src,n=e.loading,r=e.error,i=this.src;this.src=t,this.loading=n,this.error=r,this.filter(),i!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var e=this;u(this.options.filter).map(function(t){e.options.filter[t](e,e.options)})}},{key:"renderLoading",value:function(e){var t=this;k({src:this.loading},function(n){t.render("loading",!1),e()},function(){e(),t.options.silent||console.warn("VueLazyload log: load failed with loading image("+t.loading+")")})}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void t()):this.state.loaded||A[this.src]?(this.state.loaded=!0,t(),this.render("loaded",!0)):void this.renderLoading(function(){e.attempt++,e.record("loadStart"),k({src:e.src},function(n){e.naturalHeight=n.naturalHeight,e.naturalWidth=n.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record("loadEnd"),e.render("loaded",!1),A[e.src]=1,t()},function(t){console.error(t),e.state.error=!0,e.state.loaded=!1,e.render("error",!1)})})}},{key:"render",value:function(e,t){this.elRenderer(this,e,t)}},{key:"performance",value:function(){var e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),e}(),C="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",I=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],S={rootMargin:"0px",threshold:0},$=function(u){return function(){function l(e){var t=e.preLoad,n=e.error,r=e.throttleWait,i=e.preLoadTop,a=e.dispatchEvent,u=e.loading,c=e.attempt,d=e.silent,f=void 0===d||d,p=e.scale,v=e.listenEvents,m=(e.hasbind,e.filter),b=e.adapter,_=e.observer,k=e.observerOptions;h(this,l),this.version="1.2.1",this.mode=g.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:f,dispatchEvent:!!a,throttleWait:r||200,preLoad:t||1.3,preLoadTop:i||0,error:n||C,loading:u||C,attempt:c||3,scale:p||y(p),ListenEvents:v||I,hasbind:!1,supportWebp:o(),filter:m||{},adapter:b||{},observer:!!_,observerOptions:k||S},this._initEvent(),this.lazyLoadHandler=s(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?g.observer:g.event)}return f(l,[{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this.options,e)}},{key:"performance",value:function(){var e=[];return this.ListenerQueue.map(function(t){e.push(t.performance())}),e}},{key:"addLazyBox",value:function(e){this.ListenerQueue.push(e),p&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}},{key:"add",value:function(e,t,i){var o=this;if(n(this.ListenerQueue,function(t){return t.el===e}))return this.update(e,t),u.nextTick(this.lazyLoadHandler);var s=this._valueFormatter(t.value),a=s.src,l=s.loading,c=s.error;u.nextTick(function(){a=r(e,o.options.scale)||a,o._observer&&o._observer.observe(e);var n=Object.keys(t.modifiers)[0],s=void 0;n&&(s=i.context.$refs[n],s=s?s.$el||s:document.getElementById(n)),s||(s=E(e));var d=new T({bindType:t.arg,$parent:s,el:e,loading:l,error:c,src:a,elRenderer:o._elRenderer.bind(o),options:o.options});o.ListenerQueue.push(d),p&&(o._addListenerTarget(window),o._addListenerTarget(s)),o.lazyLoadHandler(),u.nextTick(function(){return o.lazyLoadHandler()})})}},{key:"update",value:function(e,t){var n=this,o=this._valueFormatter(t.value),s=o.src,a=o.loading,l=o.error;s=r(e,this.options.scale)||s;var c=i(this.ListenerQueue,function(t){return t.el===e});c&&c.update({src:s,loading:a,error:l}),this._observer&&this._observer.observe(e),this.lazyLoadHandler(),u.nextTick(function(){return n.lazyLoadHandler()})}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var n=i(this.ListenerQueue,function(e){return e.el===t});n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),e(this.ListenerQueue,n)&&n.destroy())}}},{key:"removeComponent",value:function(t){t&&(e(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(e){var t=this;v||e!==g.observer||(e=g.event),this.mode=e,e===g.event?(this._observer&&(this.ListenerQueue.forEach(function(e){t._observer.unobserve(e.el)}),this._observer=null),this.TargetQueue.forEach(function(e){t._initListen(e.el,!0)})):(this.TargetQueue.forEach(function(e){t._initListen(e.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(e){if(e){var t=i(this.TargetQueue,function(t){return t.el===e});return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===g.event&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(e){var t=this;this.TargetQueue.forEach(function(n,r){n.el===e&&(--n.childrenCount||(t._initListen(n.el,!1),t.TargetQueue.splice(r,1),n=null))})}},{key:"_initListen",value:function(e,t){var n=this;this.options.ListenEvents.forEach(function(r){return _[t?"on":"off"](e,r,n.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e].push(n)},this.$once=function(e,n){function r(){i.$off(e,r),n.apply(i,arguments)}var i=t;t.$on(e,r)},this.$off=function(n,r){if(!r)return void(t.Event.listeners[n]=[]);e(t.Event.listeners[n],r)},this.$emit=function(e,n,r){t.Event.listeners[e].forEach(function(e){return e(n,r)})}}},{key:"_lazyLoadHandler",value:function(){var e=this,t=!1;this.ListenerQueue.forEach(function(n,r){n.state.loaded||(t=n.checkInView())&&n.load(function(){!n.error&&n.loaded&&e.ListenerQueue.splice(r,1)})})}},{key:"_initIntersectionObserver",value:function(){var e=this;v&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(t){e._observer.observe(t.el)}))}},{key:"_observerHandler",value:function(e,t){var n=this;e.forEach(function(e){e.isIntersecting&&n.ListenerQueue.forEach(function(t){if(t.el===e.target){if(t.state.loaded)return n._observer.unobserve(t.el);t.load()}})})}},{key:"_elRenderer",value:function(e,t,n){if(e.el){var r=e.el,i=e.bindType,o=void 0;switch(t){case"loading":o=e.loading;break;case"error":o=e.error;break;default:o=e.src}if(i?r.style[i]="url("+o+")":r.getAttribute("src")!==o&&r.setAttribute("src",o),r.setAttribute("lazy",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){var s=new m(t,{detail:e});r.dispatchEvent(s)}}}},{key:"_valueFormatter",value:function(e){var t=e,n=this.options.loading,r=this.options.error;return a(e)&&(e.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+e),t=e.src,n=e.loading||this.options.loading,r=e.error||this.options.error),{src:t,loading:n,error:r}}}]),l}()},x=function(e){return{props:{tag:{type:String,default:"div"}},render:function(e){return!1===this.show?e(this.tag):e(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),p&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},R=function(){function t(e){var n=e.lazy;h(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return f(t,[{key:"bind",value:function(e,t,n){var r=new z({el:e,binding:t,vnode:n,lazy:this.lazy});this._queue.push(r)}},{key:"update",value:function(e,t,n){var r=i(this._queue,function(t){return t.el===e});r&&r.update({el:e,binding:t,vnode:n})}},{key:"unbind",value:function(t,n,r){var o=i(this._queue,function(e){return e.el===t});o&&(o.clear(),e(this._queue,o))}}]),t}(),O={selector:"img"},z=function(){function e(t){var n=t.el,r=t.binding,i=t.vnode,o=t.lazy;h(this,e),this.el=null,this.vnode=i,this.binding=r,this.options={},this.lazy=o,this._queue=[],this.update({el:n,binding:r})}return f(e,[{key:"update",value:function(e){var n=this,r=e.el,i=e.binding;this.el=r,this.options=t({},O,i.value),this.getImgs().forEach(function(e){n.lazy.add(e,Object.assign({},n.binding,{value:{src:e.getAttribute("data-src")}}),n.vnode)})}},{key:"getImgs",value:function(){return l(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var e=this;this.getImgs().forEach(function(t){return e.lazy.remove(t)}),this.vnode=null,this.binding=null,this.lazy=null}}]),e}();return{install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=$(e),i=new r(n),o=new R({lazy:i}),s="2"===e.version.split(".")[0];e.prototype.$Lazyload=i,n.lazyComponent&&e.component("lazy-component",x(i)),s?(e.directive("lazy",{bind:i.add.bind(i),update:i.update.bind(i),componentUpdated:i.lazyLoadHandler.bind(i),unbind:i.remove.bind(i)}),e.directive("lazy-container",{bind:o.bind.bind(o),update:o.update.bind(o),unbind:o.unbind.bind(o)})):(e.directive("lazy",{bind:i.lazyLoadHandler.bind(i),update:function(e,n){t(this.vm.$refs,this.vm.$els),i.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:n},{context:this.vm})},unbind:function(){i.remove(this.el)}}),e.directive("lazy-container",{update:function(e,t){o.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){o.unbind(this.el)}}))}}})},function(e,t,n){n(58);var r=n(11)(n(47),n(67),"data-v-b0cb7df8",null);r.options.__file="C:\\Users\\Lee\\Desktop\\srp\\srp2017\\question-and-answer\\src\\app.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] app.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=n.n(r),o=n(1);t.default={data:function(){return{hide:!0,searchVal:"",showUser:!1}},components:{login:i.a},computed:{token:function(){return this.$store.state.user.token}},methods:{showMenuBar:function(){this.hide=!1},hideMenuBar:function(){this.hide=!0,this.showUser=!1},search:function(){this.$router.push({path:"/search",query:{key:this.searchVal}})},showUserMenu:function(){this.token?this.showUser=!0:this.$showLogin(!0)},logout:function(){this.$store.commit(o.b),this.$Message.success("登出成功"),this.$route.meta.requireAuth&&this.$router.push("/main")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{loading:!1,isLogin:!0,login:{name:"",password:""},ruleLogin:{name:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码长度不能少于6位",trigger:"blur"}]},register:{name:"",password:"",mail:"",nick_name:""},ruleRegister:{name:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码长度不能少于6位",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"},{type:"email",message:"邮箱格式错误",trigger:"blur"}],nick_name:[{required:!0,message:"请填写昵称",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.loading=!0,this.$refs[e].validate(function(e){if(e){var n=void 0;n=t.isLogin?{url:"/user/login",data:t.login,content:"登陆成功"}:{url:"/user/register",data:t.register,content:"注册成功,已登陆"},t.$store.dispatch("loginRegister",{url:n.url,data:n.data}).then(function(e){t.loading=!1,void 0===e&&(t.$showLogin(!1),t.$Message.success({content:n.content,duration:2,closable:!0}),setTimeout(function(){location.reload()},500))})}else t.loading=!1,t.$Message.info({content:"请按要求填写表单",duration:2,closable:!0})})},toggleType:function(){this.isLogin=!this.isLogin}},computed:{showLogin:{get:function(){return this.$store.state.user.showLogin},set:function(e){this.$showLogin(e)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(4),o=n.n(i),s=n(5),a=n(22),u=n(21),l=n(26),c=n.n(l),d=n(23),h=(n.n(d),n(24)),f=(n.n(h),n(3)),p=n(25),v=n.n(p),g=n(1);r.default.use(s.a),r.default.use(o.a),r.default.use(v.a,{error:"/dist/user-avatar.png",loading:"/dist/user-avatar.png"}),r.default.prototype.$showLogin=function(e){this.$store.commit(g.a,e)};var m={mode:"history",routes:a.a,scrollBehavior:function(e,t,n){if(e.hash)return{selector:e.hash}}},y=new s.a(m);y.beforeEach(function(e,t,n){u.a.title(e.meta.title),e.meta.requireAuth?f.a.state.user.token?n():y.app.$showLogin(!0):n()}),y.afterEach(function(e,t,n){window.scrollTo(0,0)}),new r.default({el:"#app",store:f.a,router:y,render:function(e){return e(c.a)}}),document.querySelector("body").addEventListener("touchstart",function(){})},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function i(){!0!==d&&c.a.state.user.token&&(d=!0,l.a.get("/user/refresh",{params:{token:c.a.state.user.token}}).then(function(e){0===e.data.status&&c.a.commit(u.f,e.data.token)}).finally(function(){return d=!1}))}function o(e,t,n,r){return!0===d?setTimeout(function(){o(e,t,n,r)},500):l.a.get(e,{params:t}).then(function(e){return 0!==e.data.status?Promise.resolve(e.data):(r(n,e.data.data),Promise.resolve())}).catch(function(e){return Promise.reject(e)}).finally(function(){return i()})}function s(e,t){return!0===d?setTimeout(function(){s(e,t)},500):l.a.post(e,t).then(function(e){return console.log(e),0!==e.data.status?Promise.resolve(e.data):Promise.resolve()}).catch(function(e){return Promise.reject(e)}).finally(function(){return i()})}function a(e){return function(t,n){var r=t.commit;return new Promise(function(t,i){t(o(n.url,n.params,e,r))})}}var u=n(1),l=n(17),c=n(3),d=!1;t.a={getMain:a(u.g),getAskRank:a(u.h),getAskClass:a(u.i),getQuestion:a(u.j),getAskStar:a(u.k),getExperts:a(u.l),getSearch:a(u.m),getUser:a(u.n),getUserQue:a(u.o),getUserAns:a(u.p),getUserMsg:a(u.q),getAskPart:a(u.r),getAskChapter:a(u.s),postAction:function(e,t){return r(e),new Promise(function(e,n){e(s(t.url,t.data))})}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(t,n){t[e]=n}}var o,s=n(1);t.a=(o={},r(o,s.g,i("main")),r(o,s.h,i("askRank")),r(o,s.i,i("askClass")),r(o,s.j,i("question")),r(o,s.k,i("askStar")),r(o,s.l,i("experts")),r(o,s.m,i("search")),r(o,s.n,i("user")),r(o,s.o,i("userQue")),r(o,s.p,i("userAns")),r(o,s.q,i("userMsg")),r(o,s.r,i("askPart")),r(o,s.s,i("askChapter")),r(o,s.t,function(e,t){e[t]=null}),o)},function(e,t,n){"use strict";var r=n(50),i=n(51);t.a={state:{main:null,askRank:null,askClass:null,question:null,askStar:null,experts:null,search:null,user:null,userQue:null,userAns:null,userMsg:null,askPart:null,askChapter:null},mutations:i.a,actions:r.a}},function(e,t,n){"use strict";var r=n(1),i=n(17);n(3);t.a={loginRegister:function(e,t){var n=e.commit;return new Promise(function(e,o){i.a.post(t.url,t.data).then(function(i){if(0!==i.data.status)return e(i.data);n(r.c,i.data.data.token),n(r.d,t.data.name),n(r.e,i.data.data.user_id),e()}).catch(function(e){return o(e)})})}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,o=n(1);t.a=(i={},r(i,o.c,function(e,t){localStorage.setItem("token",t),e.token=t}),r(i,o.b,function(e){localStorage.removeItem("token"),e.token=null}),r(i,o.d,function(e,t){localStorage.setItem("username",t),e.username=t}),r(i,o.a,function(e,t){e.showLogin=t}),r(i,o.f,function(e,t){localStorage.setItem("token",t),e.token=t}),r(i,o.e,function(e,t){localStorage.setItem("user_id",t),e.user_id=t}),i)},function(e,t,n){"use strict";var r=n(53),i=n(54);t.a={state:{showLogin:!1,token:localStorage.getItem("token"),username:localStorage.getItem("username"),user_id:localStorage.getItem("user_id")},mutations:i.a,actions:r.a}},,function(e,t){},function(e,t){},,,,,,function(e,t,n){e.exports=n.p+"82c4f3d22f50c6a7b305eccea302f9f6.png"},function(e,t,n){n(57);var r=n(11)(n(48),n(66),"data-v-043846b2",null);r.options.__file="C:\\Users\\Lee\\Desktop\\srp\\srp2017\\question-and-answer\\src\\views\\login_register.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] login_register.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{staticClass:"modal",attrs:{styles:{"max-width":"320px",margin:"0 auto"}},model:{value:e.showLogin,callback:function(t){e.showLogin=t},expression:"showLogin"}},[e.isLogin?n("Form",{ref:"login",attrs:{model:e.login,rules:e.ruleLogin}},[n("h2",{staticClass:"title"},[e._v("登陆")]),e._v(" "),n("FormItem",{attrs:{prop:"name"}},[n("Input",{key:"logName",attrs:{type:"text",placeholder:"用户名"},model:{value:e.login.name,callback:function(t){e.$set(e.login,"name",t)},expression:"login.name"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{key:"logPwd",attrs:{type:"password",placeholder:"密码"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",[n("Button",{staticClass:"button",attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.handleSubmit("login")}}},[e._v("登陆")])],1),e._v(" "),n("p",[e._v("没有账号？"),n("a",{staticClass:"toggle",on:{click:e.toggleType}},[e._v("注册")])])],1):n("Form",{ref:"register",staticClass:"form",attrs:{model:e.register,rules:e.ruleRegister}},[n("h2",{staticClass:"title"},[e._v("注册")]),e._v(" "),n("FormItem",{attrs:{prop:"name"}},[n("Input",{key:"regName",attrs:{type:"text",placeholder:"登陆用户名"},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{key:"regPwd",attrs:{type:"password",placeholder:"密码"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{key:"nick",attrs:{prop:"nick_name"}},[n("Input",{attrs:{type:"text",placeholder:"昵称"},model:{value:e.register.nick_name,callback:function(t){e.$set(e.register,"nick_name",t)},expression:"register.nick_name"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{key:"email",attrs:{prop:"email"}},[n("Input",{attrs:{placeholder:"邮箱"},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-email-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",[n("Button",{staticClass:"button",attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.handleSubmit("register")}}},[e._v("注册")])],1),e._v(" "),n("p",[e._v("已有账号？"),n("a",{staticClass:"toggle",on:{click:e.toggleType}},[e._v("登陆")])])],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout",on:{click:e.hideMenuBar}},[n("header",{staticClass:"header-bar"},[n("div",[n("Icon",{staticClass:"navicon",attrs:{type:"navicon",size:"32"},nativeOn:{click:function(t){t.stopPropagation(),e.showMenuBar(t)}}}),e._v(" "),n("ul",{staticClass:"menu",class:{hideMenu:e.hide}},[n("li",[n("router-link",{attrs:{to:"/main"}},[e._v("首页")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/postQuestion"}},[e._v("提问")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/askClass"}},[e._v("分类")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/askRank"}},[e._v("问答")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/askStar"}},[e._v("用户榜")])],1)]),e._v(" "),e.showUser?n("ul",{staticClass:"user-menu"},[n("li",[n("router-link",{attrs:{to:"/user/user"}},[e._v("个人中心")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/user/userAsk"}},[e._v("我的提问")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/user/userAns"}},[e._v("我的回答")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:"/user/userMsg"}},[e._v("我的留言")])],1),e._v(" "),n("li",[n("a",{on:{click:e.logout}},[e._v("登出")])])]):e._e(),e._v(" "),e._m(0),e._v(" "),n("Icon",{staticClass:"avatar",attrs:{type:"android-person"},nativeOn:{click:function(t){t.stopPropagation(),e.showUserMenu(t)}}}),e._v(" "),n("Input",{staticClass:"search-input",attrs:{icon:"ios-search-strong",placeholder:"输入关键字搜索"},on:{"on-enter":e.search,"on-click":e.search},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),n("router-link",{staticClass:"search",attrs:{to:"/search"}},[n("Icon",{staticClass:"search-icon",attrs:{type:"ios-search-strong"}})],1)],1)]),e._v(" "),n("div",{staticClass:"content-layout"},[n("router-view",{staticClass:"full",attrs:{name:"full"}}),e._v(" "),n("router-view",{staticClass:"content clearfix",attrs:{name:"content"}}),e._v(" "),n("router-view",{staticClass:"sider clearfix",attrs:{name:"sider"}})],1),e._v(" "),e._m(1),e._v(" "),n("login")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:"/"}},[r("img",{staticClass:"logo",attrs:{src:n(64),alt:"logo"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer-bar"},[n("div",[e._v("Copyright © 2018 "),n("a",{attrs:{href:"http://www.dxwl.org"}},[e._v("大学物理学习网")])])])}]},e.exports.render._withStripped=!0}],[49]);